{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
{# Agrega aquí tus estilos adicionales específicos de la vista dashboard.html.twig #}
    <link rel="stylesheet" href="{{ asset('bundles/adminlte/adminlte.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}
{# Agrega aquí tus scripts adicionales específicos de la vista dashboard.html.twig #}
    <script src="{{ asset('bundles/adminlte/adminlte.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/input-panel"></script>
    



{% endblock %}

{% block page_title %}
	Perfil de Usuario
{% endblock %}
{% block page_subtitle %}{% endblock %}

{% block title %}Perfil de Usuario{% endblock %}

{% block page_content %}

<body>
<div class="container">


            {# <div class="avatar-section">
                <div class="avatar-wrapper">
                    <img src="/bundles/adminlte/images/usuario.png" alt="Avatar" class="avatar" id="avatar">
                </div>
                <label for="avatar-upload" class="avatar-label">Cambiar Avatar</label>
                <input type="file" id="avatar-upload" class="avatar-upload" accept="image/*">
            </div> #}




<div class="container mt-5">
    
    {{ form_start(form) }}
    
    <div class="form-group">
        {{ form_label(form.username) }}
        {{ form_widget(form.username) }}
        {{ form_errors(form.username) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.email) }}
        {{ form_widget(form.email) }}
        {{ form_errors(form.email) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.plainPassword.first) }}
        {{ form_widget(form.plainPassword.first) }}
        {{ form_errors(form.plainPassword.first) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.plainPassword.second) }}
        {{ form_widget(form.plainPassword.second) }}
        {{ form_errors(form.plainPassword.second) }}
    </div>
    
    {{ form_widget(form.save) }}
    
    {{ form_end(form) }}
</div>

</div>
</body>

<script>

{# $(document).ready(function() {
    $('#avatar-upload').on('change', function() {
        var file = this.files[0];
        if (file) {
            // Actualizar la vista previa del avatar
            var reader = new FileReader();
            reader.onload = function(e) {
                $('#avatar').attr('src', e.target.result);
            }
            reader.readAsDataURL(file);

            // Enviar el archivo al servidor usando AJAX
            var formData = new FormData();
            formData.append('avatar', file);

            $.ajax({
                url: '/upload-avatar', // Asegúrate de cambiar '/upload-avatar' por la URL correcta de tu servidor
                type: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                success: function(response) {
                    console.log('Avatar actualizado exitosamente');
                    // Aquí puedes manejar la respuesta del servidor si es necesario
                },
                error: function(xhr, status, error) {
                    console.error('Error al subir el avatar');
                }
            });
        }
    });
}); #}




</script>
{% endblock %}